// Code generated by goctl. DO NOT EDIT.
// goctl 1.8.5
// Source: lalproxy.proto

package server

import (
	"context"

	"zero-service/app/lalproxy/internal/logic"
	"zero-service/app/lalproxy/internal/svc"
	"zero-service/app/lalproxy/lalproxy"
)

type LalProxyServer struct {
	svcCtx *svc.ServiceContext
	lalproxy.UnimplementedLalProxyServer
}

func NewLalProxyServer(svcCtx *svc.ServiceContext) *LalProxyServer {
	return &LalProxyServer{
		svcCtx: svcCtx,
	}
}

// 查询特定流分组的信息
func (s *LalProxyServer) GetGroupInfo(ctx context.Context, in *lalproxy.GetGroupInfoReq) (*lalproxy.GetGroupInfoRes, error) {
	l := logic.NewGetGroupInfoLogic(ctx, s.svcCtx)
	return l.GetGroupInfo(in)
}

// 查询所有流分组的信息
func (s *LalProxyServer) GetAllGroups(ctx context.Context, in *lalproxy.GetAllGroupsReq) (*lalproxy.GetAllGroupsRes, error) {
	l := logic.NewGetAllGroupsLogic(ctx, s.svcCtx)
	return l.GetAllGroups(in)
}

// 查询服务器基本信息
func (s *LalProxyServer) GetLalInfo(ctx context.Context, in *lalproxy.GetLalInfoReq) (*lalproxy.GetLalInfoRes, error) {
	l := logic.NewGetLalInfoLogic(ctx, s.svcCtx)
	return l.GetLalInfo(in)
}

// 控制服务器从远端拉流至本地
func (s *LalProxyServer) StartRelayPull(ctx context.Context, in *lalproxy.StartRelayPullReq) (*lalproxy.StartRelayPullRes, error) {
	l := logic.NewStartRelayPullLogic(ctx, s.svcCtx)
	return l.StartRelayPull(in)
}

// 停止从远端拉流
func (s *LalProxyServer) StopRelayPull(ctx context.Context, in *lalproxy.StopRelayPullReq) (*lalproxy.StopRelayPullRes, error) {
	l := logic.NewStopRelayPullLogic(ctx, s.svcCtx)
	return l.StopRelayPull(in)
}

// 强行踢出关闭指定会话
func (s *LalProxyServer) KickSession(ctx context.Context, in *lalproxy.KickSessionReq) (*lalproxy.KickSessionRes, error) {
	l := logic.NewKickSessionLogic(ctx, s.svcCtx)
	return l.KickSession(in)
}

// 打开GB28181接收端口
func (s *LalProxyServer) StartRtpPub(ctx context.Context, in *lalproxy.StartRtpPubReq) (*lalproxy.StartRtpPubRes, error) {
	l := logic.NewStartRtpPubLogic(ctx, s.svcCtx)
	return l.StartRtpPub(in)
}

// 关闭GB28181接收端口
func (s *LalProxyServer) StopRtpPub(ctx context.Context, in *lalproxy.StopRtpPubReq) (*lalproxy.StopRtpPubRes, error) {
	l := logic.NewStopRtpPubLogic(ctx, s.svcCtx)
	return l.StopRtpPub(in)
}

// 增加IP黑名单，加入名单的IP将无法连接本服务
func (s *LalProxyServer) AddIpBlacklist(ctx context.Context, in *lalproxy.AddIpBlacklistReq) (*lalproxy.AddIpBlacklistRes, error) {
	l := logic.NewAddIpBlacklistLogic(ctx, s.svcCtx)
	return l.AddIpBlacklist(in)
}
