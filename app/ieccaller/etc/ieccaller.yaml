Name: ieccaller.rpc
ListenOn: 0.0.0.0:21004
# 模式字段，支持 cluster / standalone
DeployMode: standalone
Mode: dev
Log:
  Encoding: plain
  #  Mode: file
  Path: /opt/logs/ieccaller.rpc
  Level: info
  KeepDays: 300
NacosConfig:
  IsRegister: false
  Host: 127.0.0.1
  Port: 8848
  Username: nacos
  PassWord: nacos
  NamespaceId: public
  ServiceName: iec-caller
# iec从站配置
IecServerConfig:
  - Host: 127.0.0.1
    Port: 2404
    # 定时总召唤COA
    IcCoaList: [ 1,2 ]
    # 累计量召唤 COA
    CcCoaList: [ 1 ]
    # 元数据配置
    MetaData:
      stationId: 330KV
      arrayId: [ 1,2,3 ]
    LogEnable: true
    TaskConcurrency: 16
KafkaConfig:
  Brokers:
    - 127.0.0.1:9094
  # 推送数据Topic
  Topic: asdu
  BroadcastTopic: iec-broadcast
  BroadcastGroupId: iec-caller
MqttConfig:
  Broker:
    - "tcp://localhost:1883"
  #  ClientId: "my-mqtt-client"
  Username: "mqtt"
  Password: "password"
  Qos: 0
  # 推送数据Topic
  Topic:
   - iec/asdu
   - iec/asdu/{{.MetaData.stationId}}/{{.TypeId}}
   - iec/asdu/{{.MetaData.stationId}}/{{.Body.Ioa}}
   - iec/asdu/device/{{.Pm.DeviceId}}
   - iec/asdu/ext1/{{.Pm.Ext1}}
  # 是否推送指令数据
  IsPush: true
StreamEventConf:
  # nacos://[user:passwd]@host/service?param=value'
#  Target: nacos://nacos:nacos@127.0.0.1:8848/stream-event?namespaceid=public&timeout=5000s
  Endpoints:
    - 127.0.0.1:21009
  NonBlock: true
  Timeout: 10000
# 数据库配置, 配置后将根据点位表推送数据
#DB:
#  DataSource: file:./model/sql/default.db?_busy_timeout=5000&_journal_mode=WAL
DisableStmtLog: false
# 指令推送间隔
# 总召唤 默认 @every 60s
#InterrogationCmdCron: "*/10 * * * * *"
# 累计量召唤 默认 @every 60s
#CounterInterrogationCmd: "*/60 * * * * *"

# 1MB 一批次
PushAsduChunkBytes: 1048576
GracePeriod: 30s