// Code generated by goctl. DO NOT EDIT.
// goctl 1.9.2
// Source: gis.proto

package server

import (
	"context"

	"zero-service/app/gis/gis"
	"zero-service/app/gis/internal/logic"
	"zero-service/app/gis/internal/svc"
)

type GisServer struct {
	svcCtx *svc.ServiceContext
	gis.UnimplementedGisServer
}

func NewGisServer(svcCtx *svc.ServiceContext) *GisServer {
	return &GisServer{
		svcCtx: svcCtx,
	}
}

func (s *GisServer) Ping(ctx context.Context, in *gis.Req) (*gis.Res, error) {
	l := logic.NewPingLogic(ctx, s.svcCtx)
	return l.Ping(in)
}

// 编码 geohash
func (s *GisServer) EncodeGeoHash(ctx context.Context, in *gis.EncodeGeoHashReq) (*gis.EncodeGeoHashRes, error) {
	l := logic.NewEncodeGeoHashLogic(ctx, s.svcCtx)
	return l.EncodeGeoHash(in)
}

// 解码 geohash -> 经纬度
func (s *GisServer) DecodeGeoHash(ctx context.Context, in *gis.DecodeGeoHashReq) (*gis.DecodeGeoHashRes, error) {
	l := logic.NewDecodeGeoHashLogic(ctx, s.svcCtx)
	return l.DecodeGeoHash(in)
}

// 编码 h3
func (s *GisServer) EncodeH3(ctx context.Context, in *gis.EncodeH3Req) (*gis.EncodeH3Res, error) {
	l := logic.NewEncodeH3Logic(ctx, s.svcCtx)
	return l.EncodeH3(in)
}

// 解码 h3
func (s *GisServer) DecodeH3(ctx context.Context, in *gis.DecodeH3Req) (*gis.DecodeH3Res, error) {
	l := logic.NewDecodeH3Logic(ctx, s.svcCtx)
	return l.DecodeH3(in)
}

// 一次性生成围栏 cells（小围栏）
func (s *GisServer) GenerateFenceCells(ctx context.Context, in *gis.GenFenceCellsReq) (*gis.GenFenceCellsRes, error) {
	l := logic.NewGenerateFenceCellsLogic(ctx, s.svcCtx)
	return l.GenerateFenceCells(in)
}

// 一次性生成围栏 H3 cells（小围栏）
func (s *GisServer) GenerateFenceH3Cells(ctx context.Context, in *gis.GenFenceH3CellsReq) (*gis.GenFenceH3CellsRes, error) {
	l := logic.NewGenerateFenceH3CellsLogic(ctx, s.svcCtx)
	return l.GenerateFenceH3Cells(in)
}

// 获取半径内的点
func (s *GisServer) PointsWithinRadius(ctx context.Context, in *gis.PointsWithinRadiusReq) (*gis.PointsWithinRadiusRes, error) {
	l := logic.NewPointsWithinRadiusLogic(ctx, s.svcCtx)
	return l.PointsWithinRadius(in)
}

// 点是否命中电子围栏（单个）
func (s *GisServer) PointInFence(ctx context.Context, in *gis.PointInFenceReq) (*gis.PointInFenceRes, error) {
	l := logic.NewPointInFenceLogic(ctx, s.svcCtx)
	return l.PointInFence(in)
}

// 点是否命中电子围栏（多个围栏）
func (s *GisServer) PointInFences(ctx context.Context, in *gis.PointInFencesReq) (*gis.PointInFencesRes, error) {
	l := logic.NewPointInFencesLogic(ctx, s.svcCtx)
	return l.PointInFences(in)
}

// 计算两个点之间的距离（米）
func (s *GisServer) Distance(ctx context.Context, in *gis.DistanceReq) (*gis.DistanceRes, error) {
	l := logic.NewDistanceLogic(ctx, s.svcCtx)
	return l.Distance(in)
}

// 批量计算两点之间的距离（米）
func (s *GisServer) BatchDistance(ctx context.Context, in *gis.BatchDistanceReq) (*gis.BatchDistanceRes, error) {
	l := logic.NewBatchDistanceLogic(ctx, s.svcCtx)
	return l.BatchDistance(in)
}

// 获取某点附近多少 km 的围栏（粗过滤）
func (s *GisServer) NearbyFences(ctx context.Context, in *gis.NearbyFencesReq) (*gis.NearbyFencesRes, error) {
	l := logic.NewNearbyFencesLogic(ctx, s.svcCtx)
	return l.NearbyFences(in)
}

// 单个坐标转换
func (s *GisServer) TransformCoord(ctx context.Context, in *gis.TransformCoordReq) (*gis.TransformCoordRes, error) {
	l := logic.NewTransformCoordLogic(ctx, s.svcCtx)
	return l.TransformCoord(in)
}

// 批量坐标转换
func (s *GisServer) BatchTransformCoord(ctx context.Context, in *gis.BatchTransformCoordReq) (*gis.BatchTransformCoordRes, error) {
	l := logic.NewBatchTransformCoordLogic(ctx, s.svcCtx)
	return l.BatchTransformCoord(in)
}

// 计算点集合的最优路径
func (s *GisServer) RoutePoints(ctx context.Context, in *gis.RoutePointsReq) (*gis.RoutePointsRes, error) {
	l := logic.NewRoutePointsLogic(ctx, s.svcCtx)
	return l.RoutePoints(in)
}
