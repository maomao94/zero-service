// Code generated by goctl. DO NOT EDIT.
// goctl 1.9.2
// Source: geo.proto

package server

import (
	"context"

	"zero-service/app/geo/geo"
	"zero-service/app/geo/internal/logic"
	"zero-service/app/geo/internal/svc"
)

type GeoServer struct {
	svcCtx *svc.ServiceContext
	geo.UnimplementedGeoServer
}

func NewGeoServer(svcCtx *svc.ServiceContext) *GeoServer {
	return &GeoServer{
		svcCtx: svcCtx,
	}
}

func (s *GeoServer) Ping(ctx context.Context, in *geo.Req) (*geo.Res, error) {
	l := logic.NewPingLogic(ctx, s.svcCtx)
	return l.Ping(in)
}

// 编码 geohash
func (s *GeoServer) EncodeGeoHash(ctx context.Context, in *geo.EncodeGeoHashReq) (*geo.EncodeGeoHashRes, error) {
	l := logic.NewEncodeGeoHashLogic(ctx, s.svcCtx)
	return l.EncodeGeoHash(in)
}

// 解码 geohash -> 经纬度
func (s *GeoServer) DecodeGeoHash(ctx context.Context, in *geo.DecodeGeoHashReq) (*geo.DecodeGeoHashRes, error) {
	l := logic.NewDecodeGeoHashLogic(ctx, s.svcCtx)
	return l.DecodeGeoHash(in)
}

// 编码 h3
func (s *GeoServer) EncodeH3(ctx context.Context, in *geo.EncodeH3Req) (*geo.EncodeH3Res, error) {
	l := logic.NewEncodeH3Logic(ctx, s.svcCtx)
	return l.EncodeH3(in)
}

// 解码 h3
func (s *GeoServer) DecodeH3(ctx context.Context, in *geo.DecodeH3Req) (*geo.DecodeH3Res, error) {
	l := logic.NewDecodeH3Logic(ctx, s.svcCtx)
	return l.DecodeH3(in)
}

// 一次性生成围栏 cells（小围栏）
func (s *GeoServer) GenerateFenceCells(ctx context.Context, in *geo.GenFenceCellsReq) (*geo.GenFenceCellsRes, error) {
	l := logic.NewGenerateFenceCellsLogic(ctx, s.svcCtx)
	return l.GenerateFenceCells(in)
}

// 一次性生成围栏 H3 cells（小围栏）
func (s *GeoServer) GenerateFenceH3Cells(ctx context.Context, in *geo.GenFenceH3CellsReq) (*geo.GenFenceH3CellsRes, error) {
	l := logic.NewGenerateFenceH3CellsLogic(ctx, s.svcCtx)
	return l.GenerateFenceH3Cells(in)
}

// 点是否命中电子围栏（单个）
func (s *GeoServer) PointInFence(ctx context.Context, in *geo.PointInFenceReq) (*geo.PointInFenceRes, error) {
	l := logic.NewPointInFenceLogic(ctx, s.svcCtx)
	return l.PointInFence(in)
}

// 点是否命中电子围栏（多个围栏）
func (s *GeoServer) PointInFences(ctx context.Context, in *geo.PointInFencesReq) (*geo.PointInFencesRes, error) {
	l := logic.NewPointInFencesLogic(ctx, s.svcCtx)
	return l.PointInFences(in)
}

// 计算两个点之间的距离（米）
func (s *GeoServer) Distance(ctx context.Context, in *geo.DistanceReq) (*geo.DistanceRes, error) {
	l := logic.NewDistanceLogic(ctx, s.svcCtx)
	return l.Distance(in)
}

// 获取某点附近多少 km 的围栏（粗过滤）
func (s *GeoServer) NearbyFences(ctx context.Context, in *geo.NearbyFencesReq) (*geo.NearbyFencesRes, error) {
	l := logic.NewNearbyFencesLogic(ctx, s.svcCtx)
	return l.NearbyFences(in)
}

// 单个坐标转换
func (s *GeoServer) TransformCoord(ctx context.Context, in *geo.TransformCoordReq) (*geo.TransformCoordRes, error) {
	l := logic.NewTransformCoordLogic(ctx, s.svcCtx)
	return l.TransformCoord(in)
}

// 批量坐标转换
func (s *GeoServer) BatchTransformCoord(ctx context.Context, in *geo.BatchTransformCoordReq) (*geo.BatchTransformCoordRes, error) {
	l := logic.NewBatchTransformCoordLogic(ctx, s.svcCtx)
	return l.BatchTransformCoord(in)
}
