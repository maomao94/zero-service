syntax = "proto3";

package mqttstream;

option go_package = "./mqttstream";
option java_multiple_files = true;
option java_package = "com.github.mqttstream.grpc";
option java_outer_classname = "MqttStreamProto";

service MqttStream {
  // 接收消息
  rpc ReceiveMessage (ReceiveMessageReq) returns (ReceiveMessageRes);
}

message ReceiveMessageReq {
  repeated MqttMessage messages = 1;
}

message ReceiveMessageRes {
}

message MqttMessage {
  // 会话ID
  string sessionId = 1;
  // 消息唯一标识
  string msgId = 2;
  // MQTT主题
  string topic = 3;
  // 消息体
  bytes payload = 4;
  // 消息发送时间
  string sendTime = 5;
}